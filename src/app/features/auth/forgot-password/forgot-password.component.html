<div class="forgot-password-page">
    <!-- Background Decorations -->
    <div class="bg-decoration bg-decoration-1"></div>
    <div class="bg-decoration bg-decoration-2"></div>

    <div class="forgot-password-container">
        <div class="forgot-password-card">
            <!-- Back Link -->
            <a routerLink="/login" class="back-link">
                <i class="bi bi-arrow-left"></i> Back to Login
            </a>

            @if (!isSuccess()) {
            <!-- Request Form -->
            <div class="card-header">
                <div class="icon-wrapper">
                    <i class="bi bi-envelope-paper"></i>
                </div>
                <h2>Forgot Password?</h2>
                <p>Enter your email address and we'll send you a link to reset your password.</p>
            </div>

            @if (errorMessage()) {
            <div class="alert alert-danger">
                <i class="bi bi-exclamation-triangle-fill"></i>
                {{ errorMessage() }}
            </div>
            }

            <form (ngSubmit)="onSubmit()" class="forgot-form">
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <div class="input-wrapper">
                        <i class="bi bi-envelope input-icon"></i>
                        <input type="email" class="form-control" [(ngModel)]="email" name="email"
                            placeholder="Enter your email address" autocomplete="email">
                    </div>
                </div>

                <button type="submit" class="btn-submit" [disabled]="isLoading()">
                    @if (isLoading()) {
                    <span class="spinner-border spinner-border-sm me-2"></span>
                    Sending...
                    } @else {
                    Send Reset Link <i class="bi bi-arrow-right ms-2"></i>
                    }
                </button>
            </form>
            } @else {
            <!-- Success Message -->
            <div class="success-wrapper">
                <div class="success-icon">
                    <i class="bi bi-check-circle-fill"></i>
                </div>
                <h2>Check Your Email</h2>
                <p>{{ successMessage() }}</p>
                <a routerLink="/login" class="btn-back-login">
                    <i class="bi bi-arrow-left me-2"></i> Back to Login
                </a>
            </div>
            }
        </div>
    </div>
</div>